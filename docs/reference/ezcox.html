<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run Cox Analysis in Batch Mode — ezcox • ezcox</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run Cox Analysis in Batch Mode — ezcox" />
<meta property="og:description" content="Run Cox Analysis in Batch Mode" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ezcox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ezcox.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ShixiangWang/ezcox">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run Cox Analysis in Batch Mode</h1>
    <small class="dont-index">Source: <a href='https://github.com/ShixiangWang/ezcox/blob/master/R/ezcox.R'><code>R/ezcox.R</code></a></small>
    <div class="hidden name"><code>ezcox.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Run Cox Analysis in Batch Mode</p>
    </div>

    <pre class="usage"><span class='fu'>ezcox</span>(<span class='no'>data</span>, <span class='no'>covariates</span>, <span class='kw'>controls</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='st'>"time"</span>,
  <span class='kw'>status</span> <span class='kw'>=</span> <span class='st'>"status"</span>, <span class='kw'>global_method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"likelihood"</span>, <span class='st'>"wald"</span>,
  <span class='st'>"logrank"</span>), <span class='kw'>return_models</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a <code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>covariates</th>
      <td><p>column names specifying variables.</p></td>
    </tr>
    <tr>
      <th>controls</th>
      <td><p>column names specifying controls.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>column name specifying time, default is 'time'.</p></td>
    </tr>
    <tr>
      <th>status</th>
      <td><p>column name specifying event status, default is 'status'.</p></td>
    </tr>
    <tr>
      <th>global_method</th>
      <td><p>method used to obtain global p value for cox model,
should be one of "likelihood", "wald", "logrank".
The likelihood-ratio test, Wald test, and score logrank statistics.
These three methods are asymptotically equivalent. For large enough N,
they will give similar results. For small N, they may differ somewhat.
The Likelihood ratio test has better behavior for small sample sizes,
so it is generally preferred.</p></td>
    </tr>
    <tr>
      <th>return_models</th>
      <td><p>default <code>FALSE</code>. If <code>TRUE</code>, return a <code>list</code> contains
cox models.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>if <code>TRUE</code>, do parallel computation by <strong>furrr</strong> package.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>tibble</code> or a <code>list</code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>survival</span>)

<span class='co'># Build unvariable models</span>
<span class='fu'>ezcox</span>(<span class='no'>lung</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"age"</span>, <span class='st'>"sex"</span>, <span class='st'>"ph.ecog"</span>))</div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable age</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable sex</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable ph.ecog</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; # A tibble: 3 x 11
#&gt;   Variable contrast_level ref_level n_contrast n_ref    beta    HR lower_95
#&gt;   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;          &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1 age      age            age              228   228  0.0187 1.02     1    
#&gt; 2 sex      sex            sex              228   228 -0.531  0.588    0.424
#&gt; 3 ph.ecog  ph.ecog        ph.ecog          227   227  0.476  1.61     1.29 
#&gt; # … with 3 more variables: upper_95 &lt;dbl&gt;, p.value &lt;dbl&gt;, global.pval &lt;dbl&gt;</div><div class='input'>
<span class='co'># Build multi-variable models</span>
<span class='co'># Control variable 'age'</span>
<span class='fu'>ezcox</span>(<span class='no'>lung</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"sex"</span>, <span class='st'>"ph.ecog"</span>), <span class='kw'>controls</span> <span class='kw'>=</span> <span class='st'>"age"</span>)</div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable sex</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable ph.ecog</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; # A tibble: 4 x 11
#&gt;   Variable contrast_level ref_level n_contrast n_ref    beta    HR lower_95
#&gt;   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;          &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1 sex      sex            sex              228   228 -0.513  0.599    0.431
#&gt; 2 sex      age            age              228   228  0.017  1.02     0.999
#&gt; 3 ph.ecog  ph.ecog        ph.ecog          227   227  0.443  1.56     1.24 
#&gt; 4 ph.ecog  age            age              228   228  0.0113 1.01     0.993
#&gt; # … with 3 more variables: upper_95 &lt;dbl&gt;, p.value &lt;dbl&gt;, global.pval &lt;dbl&gt;</div><div class='input'>
<span class='co'># Return models</span>
<span class='fu'>ezcox</span>(<span class='no'>lung</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"age"</span>, <span class='st'>"sex"</span>, <span class='st'>"ph.ecog"</span>),
            <span class='kw'>return_models</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable age</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable sex</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable ph.ecog</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; $res
#&gt; # A tibble: 3 x 11
#&gt;   Variable contrast_level ref_level n_contrast n_ref    beta    HR lower_95
#&gt;   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;          &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1 age      age            age              228   228  0.0187 1.02     1    
#&gt; 2 sex      sex            sex              228   228 -0.531  0.588    0.424
#&gt; 3 ph.ecog  ph.ecog        ph.ecog          227   227  0.476  1.61     1.29 
#&gt; # … with 3 more variables: upper_95 &lt;dbl&gt;, p.value &lt;dbl&gt;, global.pval &lt;dbl&gt;
#&gt; 
#&gt; $models
#&gt; # A tibble: 3 x 4
#&gt;   Variable control model   status
#&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;list&gt;  &lt;lgl&gt; 
#&gt; 1 age      &lt;NA&gt;    &lt;coxph&gt; TRUE  
#&gt; 2 sex      &lt;NA&gt;    &lt;coxph&gt; TRUE  
#&gt; 3 ph.ecog  &lt;NA&gt;    &lt;coxph&gt; TRUE  
#&gt; 
#&gt; attr(,"class")
#&gt; [1] "ezcox"</div><div class='input'><span class='fu'>ezcox</span>(<span class='no'>lung</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"sex"</span>, <span class='st'>"ph.ecog"</span>), <span class='kw'>controls</span> <span class='kw'>=</span> <span class='st'>"age"</span>,
            <span class='kw'>return_models</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable sex</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; <span class='message'>=&gt; Processing variable ph.ecog</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Surv object...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Building Cox model...</span></div><div class='output co'>#&gt; <span class='message'>==&gt; Done.</span></div><div class='output co'>#&gt; $res
#&gt; # A tibble: 4 x 11
#&gt;   Variable contrast_level ref_level n_contrast n_ref    beta    HR lower_95
#&gt;   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;          &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1 sex      sex            sex              228   228 -0.513  0.599    0.431
#&gt; 2 sex      age            age              228   228  0.017  1.02     0.999
#&gt; 3 ph.ecog  ph.ecog        ph.ecog          227   227  0.443  1.56     1.24 
#&gt; 4 ph.ecog  age            age              228   228  0.0113 1.01     0.993
#&gt; # … with 3 more variables: upper_95 &lt;dbl&gt;, p.value &lt;dbl&gt;, global.pval &lt;dbl&gt;
#&gt; 
#&gt; $models
#&gt; # A tibble: 2 x 4
#&gt;   Variable control model   status
#&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;list&gt;  &lt;lgl&gt; 
#&gt; 1 sex      age     &lt;coxph&gt; TRUE  
#&gt; 2 ph.ecog  age     &lt;coxph&gt; TRUE  
#&gt; 
#&gt; attr(,"class")
#&gt; [1] "ezcox"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Shixiang Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


